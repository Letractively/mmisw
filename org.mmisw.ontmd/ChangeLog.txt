org.mmisw.ontmd: MMI Portal
Carlos Rueda  -  http://marinemetadata.org
$Id$

ChangeLog

2008-08-24  1.5.0.alpha12
	Fixed issue #161 "New version forces upload of local file"
	- OntologyPanel.reviewAndRegister: using new createOntologyInfo.setPriorOntologyInfo(..) to transfer
	  all necessary info about prior version, now including the actual version.
	- BaseOntologyContentsPanel/OtherOntologyContentsPanel.checkData(boolean isNewVersion): added flag 
	  to indicate if new version.


2008-08-16   1.5.0.alpha11
	- OntologyPanel.reviewAndRegister: Passing "uri" attribute in CreateOntologyInfo object, 
	  which "remembers" previous URI when registering a new version.
	  

2008-08-13  1.5.0.alpha10
  	(only change in iserver library:
		- Issue #164 Keep periods and case in term URI
			- More in general, if the first column given to VocCreator is named "uri," the values
			  are just checked for validity (according to java.net.URI constructor), and now
			  no conversions at all are performed. 
  	)
  	
  	- CreateOntologyInfo and RegisteredOntologyInfo: removed namespaceRoot attribute -- this 
	  was added in a preliminary approach to handle re-hosting. It is not necessary anymore.
	  
	  
	- Fixed Issue #165: "versions" menu included in versions window
	
		  
2009-08-11  1.5.0.alpha9
	Issue #8: Improve HTML response
	As a way to provide complementary ontology browsing capabilities, I links to the 
	Ontology Browser from http://code.google.com/p/ontology-browser/, which I deployed on
	http://mmisw.org/browser (latest version 1.1.6)
	
		- sample.build.properties: new property ontbrowser.service.url
		- If the value is not "-", "Ontology Browser" links will be included in the 
		  controls bar and in the popup menu associated with ontologies to open the ontology using that tool.
		  
	In a future version, we could probably embed the ontology-browser in the ontology panel.
	
	
2009-08-11  1.5.0.alpha8
	- Fixed bug: "version" param always added for requests to the "ont" service
	
	- The latest version is dispached in general; only versioned dispatch in done when an ontology
	  is displayed from the "available versions" window, or if the requested URI is a versioned MmiUri.
	
	- "available versions" window now shows the unversioned URI in the title. The list is now sorted 
	  by descending version (so most recent version first).
  
  

2008-08-10  1.5.0.alpha7   Issue #159: Re-host ontologies: versioning
	- OntologyTable.update(): include version in hyperlinks
	- PortalControl.getDownloadOptionHtml(): include "version" parameter
	
	
	- log4j.xml: assigned same org.mmisw.ontmd's log level to org.mmisw.iserver module.
	
	Various adjustments in UI
		- browse table now with cell padding 3
		- HeaderPanel aligned to the left (so it doesn't get hidden when the contents of the
		  ontology become too wide)
		- "Versions" button re-enabled after fix in iserver (includes all version for each requested 
		  ontology).
	
	
2009-08-05  1.5.0.alpha6
	- Fixed issue #160 Loading an ontology file does not update associated metadata in the editor
		Problem was that the listener registered with the DataPanel was not updated when the mode
		changed from view-only to edit-new-version, so the wrong, obsolete object was notified
		of the load. Now, the listener is retrieved from the PortalControl instance.

2009-08-05  1.5.0.alpha5
	- PortalMainPanel.dispatchMainPanel:  Once a registration was completed, the intended behavior 
	  is to return to the "browse" list. This was not working, but it's now fixed: 
	  History.newItem("browse") is called to synchronize the state with the history.
	  
	- PortalMainPanel & OntologyTable: historyTokenMap is now not actually updated, so the
	  RegisteredOntologyInfo objects are not cached. This simplifies things.
	  TODO: either remove the cache (historyTokenMap) variable or decide how to maintain it.
	
	
1.5.0.alpha4 (change in iserver library)
	- Server.createOntology(CreateOntologyInfo): Do NOT remove "original OWL.Ontology individual"
	  if we are in re-hosting mode (createOntologyResult.isPreserveOriginalBaseNamespace).
	  If we did this on a model with the same original namespace, we would remove the owl:Ontology 
	  entry altogether and get an "rdf:Description" instead.
	  
	  
2009-08-01,03:  1.5.0.alpha3 (was 1.5.0.alpha2)
	- Added build and configuration params to allow deployment of the service on any machine (while
	  removing several related hard-coded pieces, in particular about http://mmisw.org...):
		appserver.host
		ont.service.url
		portal.service.url
		vine.service.url
		bioportal.rest.url
		
		 
2009-07-31  
	1.5.0.alpha2 - including updates in iserver for re-hosting ontologies
	- PortalControl: adjusted link to resolve ontology in rdf and n3.
	
	- Also, preliminary additions to allow the user indicate the namespaceRoot for a newly
	  created vocabulary. New class OntologyUriPanel used in OntologyPanel.
	  This code is disabled in the SVN repository (using flag USE_ONTOLOGY_URI_PANEL).
		

	
2009-07-26
	
	Preparations for re-hosting of external ontology:
		"Re-hosting" means that the original base namespace of the submitted ontology is preserved.
		Basically, the whole ontology is un-changed except for new metadata elements.
	
	- UploadLocalOntologyPanel: new checkbox for preserveOriginalBaseNamespace flag.
	  
	- Basic submission is now handled. I'm testing this with a simple ontology with base namespace
	  http://EXAMPLE.org/abc/example
	  
	- Next: complement other actions:
		- do not capture authority, or, shortName, and the like, associated with MMISW-based namespace
		- "resolve" the ontology for display purposes. This will require adjustments in call to the "ont"
		  service... 


	  
2009-07-24
	- UploadServlet: MAX_FILE_SIZE set to unlimited (-1). See issue #153 "Large ontology file fails to load"
	
	
2009-06-09
	- TermTable2:   (same as TermTable 645 with updates for the following)
		-  Issue 126: "Immediately enter edit mode when I type in a cell"
			Regular key now starts editing mode immediately. Note that the key is appended to
			the current contents of the cell (this contrasts to other systems, eg., google spreadsheet, 
			where this action replaces the contents). 
		
		- issue #127: "Create row automatically"
			While editing last column and row in term table, KEY_ENTER and KET_TAB will add a new 
			row and focus its first cell automatically.
			Note, both KEY_ENTER and KET_TAB accept the text entered (previously, only KEY_ENTER).
	  BUT: the behaviour is not as expected in firefox! :-(  so, still keeping TermTable as was before these changes.
	
	
2009-06-07
	- MenuBarPanel renamed to ControlsPanel; this better reflects the (new) actual contents of that
	  panel, which are buttons and links, but not menus anymore. The buttons and links seem more intuitive.
	
2009-06-06
	Issue #145: "Null response when uploading IOC "
	Issue #43: "Handle non-UTF8 inputs"
	- Included chardet.jar in build, as iserver is now doing verification of UTF-8. 
	  In summary, an error will be reported whenever some external contents, which will be
	  eventually incorporated in the registry, is not in UTF-8.
	  Note: No attempts to make any automated conversion in case the verification fails.
	
	- MetadataPanel: "NewUri" panel removed -not needed anymore  
	- MetadataGroupPanel: show group info only in editing mode
	- UploadLocalOntologyPanel: simplified and better control of buttons (en/disable)
	
	- See also iserver project for other several adjustments
	
	TODO: in general, either have a general mechanism to disable any controls (buttons, menus,..) in
	the whole interface during  the execution of some task, or use a modal dialog. In any case,
	also react to Browser events to properly cancel any task or open menu.
	
 
	
2009-06-05
	- Main: logging buffer allocated only if _log parameter is given (less memory for regular use).
	- UploadLocalOntologyPanel: fixed upload form action location.
	
	- several adjustments as the main operations are completed along with iserver module
	- removed several interim dependencies
	- some renamings of types and operations
	- support for registering an uploaded file completed.  Various tests OK. TODO more tests!
	 

	
	
2009-06-04
	- Including management of uploading of local file in the panel for "other" (not vine/voc2rdf) ontology. 
	- Notification to the metadataPanel included (note: when the user loads a local file
	  for purposes of updating the contents (dataPanel) of the ontology to be submitted, we need
	  to notify the metadataPanel to handle any existing attributes in the uploaded file).
	- Basic functionality of the local file uploading into the working space ready. This includes a 
	  new checking for any possible overwriting of fields already filled in in the metadata panel; the
	  user can decide whether replace or keep the values in the panel. See issue #143
	  
	Next: complete creation of ontology from local file and the associated action when creating
	a new version.
	

2009-06-03
	- Creation of vocabulary completed. Need more testing.
	- Validation of term table re-enabled and improved.
	- Hiding the option to create mapping (not implemented yet)
	- fixed params to properly launch external tool for uploading an ontology from disk
	  Next: include this option within the portal itself. 
	
	
2009-06-02
	- fixed: consider all ontologies when an administrator is logged in.
	- testing ontologies are marked with a T for easy spot
	
	- Versions option implemented: it dispatches an OntologyTable object in a popup dialog.
	  If the user clicks one of the versions, the dialog is closed and the history management
	  takes care of dispatching the requested ontology. We could make the dialog non-modal
	  to keep it visible even as the user navigates the versions, but it would be tricker at
	  this point to control the other possible actions, so safer just to use a modal dialog.
	  
	- QuickInfo menu added for each element in ontology list; this facilitates some actions 
	  (eg viewing prior version, resolving in RDF, N3, etc.) without having to load the complete
	  ontology.
	   

2009-06-01
	- better links section (upper right) including "browse" hyperlink
	- history tokens dispatched: #<ontology-uri>   #browse
	- close window: warning message only shown when in editing mode
	- various other code changes
	- TODO: check filtered out ontologies when administrator is logged in
	
	
2009-05-31
	- Many changes for including editing and creation of new version of a vocabulary ontology
	  TODO: once registered the new version, the browse page is displayed with a reloading of
	  the list of all ontologies. However, the hyperlink for the newly created version does not
	  resolve immediately; it seems the history token is added but the notification does not happen
	  immediately?
	  
	- Filtering out ontologies with authority "mmitest" and "testing"; these are included only when
	  an adminsitrator is logged in.
	  
	- Quick adjustments to the "New" options (Vocabulary, Mapping, Uplaod) to at least launch the 
	  not-yet-integrated mechanisms.
	
	
2009-05-28
	- continuing preparations for editing vocabulary
	- view only vocabulary table now created incrementally (especially useful for large tables, eg., CF)
	- Started implementation of Edit with VocabClassPanel/TermTable. In general, this shows 2 major limitations:
		- slow for big vocabularies
		- fixed column width
	  So, perhaps:
	  	- Disable in-place editing of the table (instead, include a direct import from a local file and process
	  	  the CSV in the back-end for checking, and then update view-only-table for visual feed-back
		- or, allow in-place editing but only for small vocabularies (say with no more than a couple hundred terms);
		  direct the user to the import mechanism above in case of bigger vocabs.		
			
2009-05-27
	- Unifying interface; menuBar set-up depending on interface type; new controller PortalController
	  to improve MVC design.  Better general layout.
	 
	- new EditDataPanel, preparing for editing vocabulary ...
	
2009-05-26
	- DisclosurePanels used for metadata and components in synopsis of ontology
	- ViewTable with column sorting capability
	
2009-05-25
	- Different types of ontology data are now handled, see ViewDataPanel:
		Vocabulary: for each class in the ontology, a table of corresponding datatype properties is shown.
		Mapping: not dispatched yet
		"Other": a synopsis of the classes, properties, and individuals is shown.
	
2009-05-24
	- Per update in iserver module, ontology browse list now shows only the latest versions;
	  each entry contains the prior versions of the ontology, but these are not shown yet.
	  
	  Note that unversioned URIs should be shown in general for the UI in the read-only mode;
	  For editing, it should show versioned URIs.
	   

2009-05-23
	- Moved most of metadata management to iserver ontmd module.
	- Integrated retrieval of metadata and data: operation getOntologyContents
	Basic functionality in place. Note that all contents are retrieved in a single call;
	TODO: implement a paging mechanism.
	
	Next: display data in appropriate format according to "type" of ontology; we basically
	have the following cases: vocabulary (a la voc2rdf), mapping (a la vine), and the others.
	I'm planning on using the omv:usedOntologyEngineeringTool property to explicitly
	assign it to ontologies created by voc2rdf and vine (I just created the related resources
	in the Omv and OmvMmi vocabularies (see ont module).
	
	
2009-05-22
	- Author subtree now includes all usernames (if user is logged)
	
	- DataPanel now using the iserver-based getEntities operation
	
	
2009-05-18
	- OntMdServiceImpl: fixed a recently introduced bug in getOntologyInfoFromRegistry:
		prepareOntologyInfo was not called in the "new mechanism"
		
	- Login: Capture role when user logs in.
	
	- OntologyUploader: if user logged in is an administrator, a special handling is done to
	  allow the submission of an ontology (either brand new, or new version) to be associated
	  to another userId. 
	
2009-05-13
	- Moved types from ...client related with the proper metadata editor to new package ...client.metadata:
		MainPanel
		MetadataGroupPanel
		MetadataPanel
		OntologyPanel
		ResourceTypeWidget
		
	- Removed unused types:
		voc2rdf.rpc.Voc2RdfService
		voc2rdf.rpc.Voc2RdfServiceAsync
		
	- Preparing portal dispatch:
		I created a new module org.mmisw.iserver, which I'm starting to use here to support
		the portal interface and eventually other operations as the refactoring progresses.
		See sibling project org.mmisw.iserver.
	
	
2009-05-11
	- Preparations to show ontology data in view only mode.
		Initially, to show term table for a voc2rdf ontology (based on the associated CSV)
		
	- View only of an ontology now does requests to "Ont" to get the model (via Jena) and the
	  contents of the CSV (if any) via a new Ont operation with (parameter "_csv").
	  TODO remove the "_lpath" operation in "Ont"
	
	
2009-05-07
	- implemented issue #135: preserve URIS from simple vocabularies that allready have defines URIs
	  It works as follows:
	  	- Enabled when the header label for the first column is "URI" (ignoring case) (so, no extra
	  	  check box or other GUI component for the moment)
	  	- Converter: uses a flag keyIsUri which is set to true in createDatatypeProperty if the label
	  	  of the first column is "URI"; then createIndividual uses the flag to determine the
	  	  URI for the individual to be created.
	
2009-05-06
	- fixed issue #131: use abbreviation of organization instead of authority in the web form
	
	- fixed issue 132: add (optional) on the "uri of class" label
		But, instead of adding "optional" to the label, now the "name" field is marked with the
		red star, indicating that the name of the class is required, while the label
		for the URI of the class remains as it is. To complement, a preamble in the interface
		says that "fields marked * are required" (which used to be there in a previous version, btw).
		
	- fixed issue #129:  "Convert to RDF" button below term table
	
2009-04-20
	- Config: a useDefault flag now allows to use pre-defined parameters so I can quickly
		run ontmd and voc2rdf from within eclipse. I will configure this much better, probably
		when I start using GWT 1.6.  Also renamed Main.launch to ontmd.launch and
		created voc2rdf.launch
	
	- preliminary stuff to alert the user when closing the window page.
	
	- Converter: save copy of CSV file.
	- OntMdServiceImpl.upload: upon sucessfull upload, it renames the associated CSV (if any)
	  to a name based on the final ontology URI.  This provides a convenient mechanism to use
	  the CSV version for display purposes.
	

2009-04-16
	- Issue #118: "Difficult to fix errors reported by voc2rdf"
		As an additional improvement, now the affected cell is focused automatically.
		
	- Various GUI improvements to voc2rdf, including an icon for the popup menu associated
	  with the control columns and rows (previously those menus were not apparent). 
	  Also, simple conversion panel layout and new "download" button instead of embedding the
	  resulting RDF contents in the window. This provides: 1) simpler interface (issue #75), 
	  and 2) less memory consumption on the client.
	  
	- Incremental import so the GUI is responsive when importing big files.
		
2009-04-14
	Issue #124: Keep colons in values
		- Now colons are ONLY kept (not replaced with underscores) for the *term IDs* in voc2rdf;
		  so the name for a term (first column), eg., "abc:def:myterm" will result in
		  a term URI like the following http://mmisw.org/ont/someAuth/someVocab/abc:def:myterm
		- See Converter.createIndividual()
		- NOTE: Colons in the name of the class and in the column headers (which are converted to
		  datatype properties in the ontology) are still converted to underscores.
		   
	
2009-04-11, 13  (1.2.0.beta3)
	Issue #116: editing interface in the table is not functional
		- various changes including textbox in each field and navigation with keyboard
		- enter key enables cell for editing; enter typed again returns to navigation
		- first column and first row are made visible if the current focused cell is close
		  enough.
	Note: Some other improvements are of course possible; but any more sophisticated 
	      spreadsheet-like interface would require some significant effort. 
	      
	Fixed issue #115: "Allow tab delimiter when importing data in voc2rdf"
		Now, two buttons are included, both with options to select the desired separator: 
			- "Import" allows to enter terms from a CSV formatted text: the user specifies what
			  character should be interpreted as the field separator
			- "Export" displays the current table in CSV format (for the user to copy-n-paste somewhere);
			  the user indicates the desired separator character.
		- the following separators are possible: comma (,), sem-colon (;), tab, and pipe (|)
		
	Fixed #118: "Difficult to fix errors reported by voc2rdf"
		 Yes, this is difficult in the popup itself.
		 Fix: just let the table be updated; then the user can continue editing; the system
		 will make the error checking when attempting the "Convert to RDF action", anyway.
	
		
2009-04-07
	Implemented issue #84: "allow user-given namespace (URI) in voc2rdf"
	VocabPanel.OntologyUriPanel handles the information about the resulting URI for the ontology.
	The user can now specify the complete URI and later, if desired, revert to the automated 
	handling.

2009-04-07
	Fixed issue #120: "title doesn't get carried forward"
	Problem was that Omv.name was assigned BOTH the class name and the fulltitle.
	Only the fullTitle is now assigned.
	
2009-04-06
	Fixed issue #119: "Allow empty fields in non-required columns"
	This also required to generate "" column values for the missing fields so the original
	voc2rdf scheme to make the conversion (which is based on the com.infomata.data library)
	works with no ArrayOutOfBoundsException's. 
	
2009-04-01
	- setReadOnly(!enabled) instead of setEnabled(enabled) for text fields; this allows the
	  user to select the text even if it's not editable.

2009-03-31    voc2rdf 1.2.0.beta2
	- oops, I introduced a bug with my latest changes: individuales were not put in the
	  namespace appropriately (I forgot to use the namespace (_ns) in Converter.createIndividual()
	  after the change in getGoodName(), which now does not include the namespace itself)
	  -> fixed.
	  
	
2009-03-28,29:   voc2rdf 1.2.0.beta1

	- Many updates to Voc2RDF
		- More metadata captured (title, creator, description, authority)
		- Button convert to RDF now opens a dialog (No tab for conversion)
		- class & terms now in a tab (in preparation for multiple classes)
				
		- New editable, spreadsheet-like table for the terms:
			- The editable table is now the main interface for capturing the terms
			- A new CSV button displays the current table in CSV format; the user
			  can use the text area to update the contents and re-import into the table.

		
2009-03-21
	Issue 99: "Normalize theme/topic/class throughout interface"
	http://code.google.com/p/mmisw/issues/detail?id=99
	
	Renamings before actual change to the function of the code:
	- "shortName" is actually "resourceType: The current "shortName"-based names in the
	  code actually refer to the "resourceType" concept. (But note that OmvMmi.shortNameUri
	  refers to the URI of the resource type (captured in Omv.acronym).)
	- "mainClass" also refers to "resourceType"
	So the renamings were applied in these places:
		  	BaseInfo: shortNameUri -> resourceTypeUri
		  	MetadataGroupPanel: shortName* -> resourceType*
		  	MdHelper: mainClassAttrDef -> resourceTypeAttrDef 
		  	Voc2RdfBaseInfo: mainClass -> resourceTypeAttrDef
		  	
	Some refactoring and some minor adjustments:
	- new ResourceTypeWidget to handle the resource type set of fields
	- FieldWithChoose as a class in a separate file
	- TLabel: now, internal click does NOT close the tooltip dialog

	NOTE: Implemented my 3/21/09 proposal in issue #99: basically that the resourceType elements
	are used to provide for the "Class" related fields. I assign the labels and 
	tooltips accordingly. Also, there is a single field for the ontologyUri.
	This class related info is captured in the ontology metadata with thre Omv.acronym and
	OmvMmi.shortNameUri, as it is currently done in OntMd, so OntMd will detect those in the
	subsequent submission.
	

		  	
	- Next:
	  - OntMd's review operation uses shortName to do some checks; this refers to the actual shortName 
	  concept BUT it's using the value of Omv.acronym (ie., resourceType); so, continue with adding
	  the field for short name..
	
	
2009-03-20
	- some documentation updates.
	- More code clean-up: deprecating Voc2RdfService* types; the voc2rdf operations are now
	  provided through the ontmd service as well.
	

2009-03-19
	- Completed fix of issue #45: "include URIs for Topic in the ontmd Topic URI -- 
	  Review operation was removing the topic URI field value.
	  1.0.8.beta (20090319092940)
	  
	- Fixed Issue 109: "second review not asked after further changes"
	  Merged the "Review" and "Upload" actions into a single "Review and Upload" button. 
	  Complementary to this, the dialog for the successful review result now includes a button "Upload".
	  The user can either proceed with the upload operation or close the review dialog and continue 
	  editing the metadata.
	  
	  
	- Now, dynamic load of supporting vocabularies to drive drop-down menus. This way, the lists
	  are always displayed with the most recent contents. Previously, these lists were only
	  prepared at deployment time!
	  Also, the options are sorted by name (ignoring case).
	  Also, add sugestedBox to faciliate selection of option from the listBox.
	  1.0.9.beta (20090319164948)
	  
	 
2009-03-18
	- Issue #45: "include URIs for Topic in the ontmd Topic URI field"  -- 1.0.8.beta (20090318234714)
	  See OndMdServiceImpl, MetadataGroupPanel, Option, MdUtil, MdHelper.
	  - OmvMmi.shortNameUri is now associated with Omv.acronym 
	  - OndMdServiceImpl.prepareOntologyInfo(File file, OntologyInfo ontologyInfo): 
	  	if OmvMmi.shortNameUri is part of the list of attributes, then it also assigns OmvMmi.shortNameUri
	  - MetadataGroupPanel: various adjustments.
	    
	- New version.properties as the single point to define the version for this application
	  (both the back-end services and the front-ends). build.xml translates this to the 
	  application via the web.xml (which is read by Config). Also, a "build number", which 
	  is a timestamp, is used for the full version. An AppInfo object is used to share the
	  application info (version) between server and client. 
	  
	- Now, build.properties include many of the (previously) hard-coded parameters. build.xml 
	  updates the web.xml accordingly and then Config makes the params available to the code. 
	  

2009-03-17
	- Using Voc2RDF, I just created and submitted the following vocabularies (with the
	  current values in the authorities.csv and resourcetypes.csv, respectively):
	       http://mmisw.org/ont/mmi/20090317T183911/authority
	       http://mmisw.org/ont/mmi/20090317T173755/resourcetype
	  A next step is to use these ontologies (instead of the CSV files) to drive the 
	  corresponding drop-down menus.
	  
	  
	- Fixed the ``,,'' issue in voc2rdf: issue #87	
	
	-  Code clean-up:
		- Moved MdHelper from org.mmisw.ont.util/ to org.mmisw.ontmd.gwt.server/
		- New class org.mmisw.ontmd.gwt.server/MdUtil with utilities for MdHelper.
		- Removed org.mmisw.ont.{Omv,OmvMmi} from this project; now, the ont generated
		  library org.mmisw.ont.vocabulary.jar is used instead.
		  
		  
	- Issue #106: "Use ontologies to drive drop-down menus"
	  Started changes to implement this. See Config, MdHelper and MdUtil.
	  Note that Config defines the URI of the class of the vocabulary to be loaded. However,
	  TODO perhaps in a future version multiple classes could be supported in the
	  ontology, so this scheme would have to change.     (1.0.4.beta (20090317))
	  
	  
	- Partially fixed Issue #45: "include URIs for Topic in the ontmd Topic URI field"
	  1.0.5.beta (20090317)
	  See MetadataGroupPanel, Option, MdUtil, MdHelper.
	  
	- Using style OBF to reduce size of javascript (issue #108: "ontmd client: 1.0MB per load")
	
	
2009-03-13
	- Fixed http://code.google.com/p/mmisw/issues/detail?id=98:
	                "new version allows the shortName and authority to be changed"
	                
		- See OntMdServiceImpl._checkUriKeyCombinationForNewVersion
		  Now, OntMd doesn't allow the shortName (resource type) or the organization
		  abbreviation to be changed when a *new version* submission is attempted.
		  
		  
	- Implemented http://code.google.com/p/mmisw/issues/detail?id=87:
					"Ability to have Voc2RDF handle quoted strings for table preview"
		- See VocabPanel.parseLine(), which is used now in updateTabularView().
		   Note: it only handles the double quote (") case.
		- This is Voc2RDF 2.0.0.beta5
		
	                
2009-03-12
	- Fixed http://code.google.com/p/mmisw/issues/detail?id=63:
	                Matching auth+topic not detected as potential update
		- Added ontologyId attribute to the OntologyInfo class, such that the "review"
		  operation has access to it, and thus proceed with the appropriate check in
		  case ontologyId == null (meaning the review is for a *new* submission, not a
		  new version).
		  See OntMdServiceImpl._checkNoPreexistingOntology
		- Note, the _checkNoPreexistingOntology check is repeated in the "upload" operation
		  in case there is a new registration done by other user in the meantime (from when the
		  "review" was done). Of course, we are NOT completely solving the potential concurrency 
		  problem with this re-check; we are just reducing the chances of that event.

2009-03-11
	- Added sample.build.properties to be used as a template for the actual build.properties
	  (which is now removed from the SVN repository), and so facilitate build and deployment.
	  In particular, I'm using this approach to set up logging to an ontmd.log file under
	  the servlet container's logs directory. This follows the same strategy as in the
	  "ont" project for ontology and term URI resolution.
	- Using commons logging in server classes. 

		  

2009-03-10

	- Investigating http://code.google.com/p/mmisw/issues/detail?id=63:
	                Matching auth+topic not detected as potential update
	
		-Created a base vocabulary:
	      http://mmisw.org/ont/mmitest/20090310T221213/parametro


	- Fixed http://code.google.com/p/mmisw/issues/detail?id=97: 
	    Left and right borders are not displayed in firefox 
	  The fix (well, workaround) was to remove ``table { empty-cells: hide; }'' in Main.css.
	  



2008-11-14   -   Voc2RDF 2.0.0.beta4

	Issue 27: URIs have # signs instead of / before terms
	http://code.google.com/p/mmisw/issues/detail?id=27
	
	- JenaUtil2. Converter, OntMdServiceImpl:
	  Re-setting fragment separator to / and doing necessary adjustments to start
	  using / in general.
	  
	oops: some URIs are coming with trailing # in the links in the metadata panel.
	For now, any trailing framegments are just removed before creating the links,
	see MetadataPanel.NewUri.setUri(String uri, boolean link).

	  ok: updated the issue with some instructions to verify the change.
	
	
	
	- weird behavior on my station: couldn't "load" a local file in the ontmd editor;
	  seemed like a cache issue with my browser.  (no problem now).
	  
	 
	- Voc2RDF: now transfers the sessionId/userId information from the given parameters
	  (eg, from ORR front-end) to the ontmd tool so the user won't have to log in again.
	  Fixes issue 30: http://code.google.com/p/mmisw/issues/detail?id=30
	  
	  
2008-11-12

	- Done Request 46: allow to manually specify version of submitted ontology (internal)

	- Done 41: add cdip namespace, and others.
	  Ok, ontmd is using the following text file as external resources to get the authorities
	  and the resources types:
		    authorities.csv
		    resourcetypes.csv
	  See Config.java
	   
	
	Voc2RDF (2.0.0.beta2)
	Re. 43: Handle non-UTF8 inputs 
	- Voc2RDF: New _convertToUtf8(String str) utility in Converter.
	  FIXME implementation is rather simplistic:
	     return new String(str.getBytes(), "UTF-8"))
	  A better approach is to determine the actual original charset and
	  then do the conversion to UTF-8.
	  
	  
2008-11-11 (1.0.0.beta)    (Happy B-day Ini!)

	- Declaring beta status!
	
	- Using new Voc2RDF logo created by Paul (thanks!).


2008-11-10 (1.0.0.alpha7)
	- Fixed 38: show the "owl" and "html" links
	  --> include hot links in the read-only view of a registered ontology
	
2008-11-09 (1.0.0.alpha7)

	- Voc2RDF functionality re-merged in this project.

	- New tooltip handling via an "?" icon.
	
	- JenaUtil2: with some of the methods in JenaUtil but with some adjustments.
	  Initially intended to handle the fragment separator, which is '#' always in
	  the original version. Currently, JenaUtil2 still uses '#' but already
	  factors out this element so it's easier to test for a different fragment
	  separator, especifically, '/'.
	  Preliminary tests, show that the Jena library handles the '/' separator
	  differently than with '#'. For example, elements in the base namaspace are
	  nicely identified with relative references when '#' is used, but not
	  with '/'.  This may be just a cosmetic difference but I haven't tested
	  this thoroughly yet (especially in terms of transferring elements from a
	  given ontology to the new to be uploaded in the repository).
	  
	- Improved handling of the "_map" suffix in the shortName.
	

2008-11-06 (0.1.alpha6)

	- OntologyPanel:  Since "load registry file" is not implemented directly,
	  I removed the related GUI elements (via a flag, so I can return to that later
	  if necessary). Note: the user would use the main front-end to choose a
	  registered ontology, and then ontmd will be called to proceed 
	  with the creation of the new version.
	
	- Passing call parameters to the initialization (getBaseInfo) to better logging
	  on the server side.
	  
	- Now handling aquaportal versions: a parameter "ontologyId", if given, will be
	  used to perform the final REST upload call, so the new version gets linked with
	  the same family of versions for the given ontology.
	
	- Added authority: mvco: Martha's Vineyard Coastal Observatory
	- Main and BaseInfo: better handling of possible error while getting BaseInfo.
	
	- Fixed link to HTML version after upload. (it uses "?form=html" mechanism).
	
	
2008-11-05
	- Fixed Issue 25: Visiting ontology=>new without logging in does not require login.
	  In general, the logic to handle initialization is much clear now. 
	  See MainPanel() constructor.
	  
	- various GUI improvements.
	
2008-11-04 (0.1.alpha5)
	- Message improvements
	- Better integration with voc2rdf
	
	- Everything working pretty nicely! :-)
	
	TODO: Unify replicated code with voc2rdf !!
	
	
	
2008-11-03 (0.1.alpha4)

	- Assign omv:creationDate with format yyyy-MM-dd'T'HH:mm:ssZ
	
	- Fixed the following: repeated attributes will come out in the resulting ontology
	(eg, multiple omv:uri entries) when the original resource already contains those
	attributes. Now, any pre-exisiting attributes that are given new values are
	not tranferred from the original source, of course.
	
	- shortName attribute handled as a special case (time contrains force to take
	  quick, not-so-elegant solutions :( 
	
	- upload: setting file extension to .owl per aquaportal requirement
	
	- hot link to uploaded ontology upon succesful submission.
	
	
2008-11-02

	- Fixed Issue 10: load a registered ontology
		- This is now completed for the case when the URI is passed as a parameter
		  ontologyUri=uuuu along with the new parameter "_edit" which should be
		  set to "_edit=y" to allow the edition of a new version of the ontology.
		  
		  (Note: the button to "load a registered ontology" is not yet implemented
		  and perhaps it shouldn't at least initially, the reasons being:
		  	- Main entry point to create a new version is the Aquaportal front-end;
		  	- This way, the user is already logged-in and in fact she can only launch
		  	  the edition of her own ontologies, so this control is already in place.
		  	  
	- Username is not shown if ontmd is launched with the userId and sessionId params.
			
		
	- some code clean-up:
		-MdHelper: removed unused stuff (AttributeValue class, title).
		
	- Fixed Issue 11: Assign DC from the Omv and OmvMmi props -- and vice versa!
	  This happens at two moments:
	  	- When an ontology is loaded: Existing DC attributes are used to fill in
	  	  missing MMI attributes.
	  	- When the "review" process is executed: Existing MMI attributes are used 
	  	  to fill in missing DC attributes.
	  Equivalences were defined in MdHelper.
	  
	- Improved error checking and diagnostics upon initial loading of an ontology. 
		
2008-11-01
	- MetadataPanel doesn't show the original base URI anymore; this info is already
	  provided in the Ontology panel.
	  
	- Fixed 18: "namespace not updated". Main changes in OntMdServiceImpl:
	  - _replaceNameSpace(OntModel model, String oldNameSpace, String newNameSpace)
	    updates all statements having any element in the original namespace to be in the
	    new namespace.
	  - the pre-existing owl:Ontology, if any, is replaced with a new one that will have
	    the appropriate URI.
	  

	- Improved login interface.
	
2008-10-31
	- Fixed 17: example still data included.
	  The general behavior was that resetting to original values was incorrect.
	  Now, an OntologyInfo object two maps, one for the original values, and the
	  other for new values (assignied during the editing session, either manually
	  or by running the "example" actions).

	- several improvements.

2008-10-30
	- UploadServlet: use File.createTempFile with sessionId; the previous scheme
	  was buggy!
	- Fixed: 15: preview operation not idempotent
	- Also fixed: multiple owl:Ontology sections: now the esiting one is used
	  to add/updated the metadata attributes.
	  
	- ontologyUri= parameter: it is handled by just displaying the metadataPanel
	  in no-editing mode:
	  	- no buttons
	  	- no required marks (*)
	  	- no listBoxes, just plain textboxes
	  this functionality can be used in:
	  	- the aquaportal front-end (already called from there)
	  	- HTML output in the Ont URI resolver (TODO)


2008-10-29 
	- submit new ontology starting from local file:
		basic steps implemented: load-edit-review-upload

TODOS:
	- load a registered ontology
	- Assign DC from the Omv and OmvMmi props
	
2008-10-28 (started; based on voc2rdf)

	